# Claude Code Specification Directory

This directory (`claude_spec/`) contains context documents, prompts, and artifacts specifically for Claude Code agent interactions. These files enable effective work continuation across sessions and provide structured context for AI-assisted development.

---

## Directory Purpose

The `claude_spec/` directory serves as a communication layer between:
- **Human developers** → Claude Code (via prompts)
- **Claude Code** → Future Claude Code sessions (via handoff documents)
- **Claude Code** → Human developers (via planning documents)

All files in this directory are treated as high-priority context by Claude Code and should be referenced when starting new sessions or planning work.

---

## File Naming Conventions

### `prompt-*.md`

**Purpose:** Human-generated prompts for Claude Code

**Created by:** Human developers

**Used by:** Claude Code as initial task instructions

**Naming pattern:** `prompt-<feature-name>.md`

**Description:**
These files contain initial task descriptions, requirements, and context written by humans to guide Claude Code in implementing specific features or components. They serve as the starting point for a development session.

**Example:**
- `prompt-docker-executor.md` - Instructions for implementing the Docker execution client

**Best practices:**
- Write clear, specific requirements
- Include acceptance criteria
- Reference related documentation or files
- Specify any constraints or architectural decisions

---

### `implementation-status-*.md`

**Purpose:** Handoff documents detailing completed work and next steps

**Created by:** Claude Code at session end

**Used by:** Claude Code in future sessions, Human developers for review

**Naming pattern:** `implementation-status-<component-name>.md`

**Description:**
These are comprehensive handoff documents that capture:
- **Session start state:** What the codebase looked like before work began
- **Executive summary:** High-level overview of changes made
- **Technical details:** How and why changes were implemented
- **Next steps:** Prioritized actions for continuing work
- **Known issues:** Documented limitations or problems
- **Verification:** Test results and validation steps

**Examples:**
- `implementation-status-agent-api.md` - Agent API implementation handoff
- `implementation-status-mcp-server.md` - MCP server implementation handoff
- `implementation-status-skills-system.md` - Skills system implementation handoff
- `implementation-status-agent-api-testing.md` - Agent API testing handoff

**Structure:**
```markdown
# Handoff Document: [Feature Name]

**Session Date:** YYYY-MM-DD
**Completion Status:** X% complete

## Session Start: Repository State
- Context about starting state
- Files modified/created
- Known issues at start

## Executive Summary: Changes Made
- High-level overview
- Key accomplishments
- Metrics

## Technical Details: Implementation
- Detailed explanation of changes
- Code examples
- Architecture diagrams
- Design decisions and rationale

## Verification & Testing
- Test results
- Manual validation steps

## Next Steps: Recommended Actions
- Prioritized task list
- Estimated effort
- Dependencies

## Critical Context for Next Session
- Environment setup
- Key files to know
- Integration points

## Known Issues & Limitations
- Documented problems
- Workarounds
- Future improvements
```

**Best practices:**
- Write immediately after completing work
- Be specific about what was done and why
- Include code snippets for key changes
- Document all known issues
- Provide actionable next steps
- Include verification steps

---

### `implementation-plan-*.md`

**Purpose:** Planning documents generated by Claude Code in planning mode

**Created by:** Claude Code during planning phase

**Used by:** Claude Code for implementation, Human developers for review/approval

**Naming pattern:** `implementation-plan-<feature-name>.md`

**Description:**
These documents are created when Claude Code enters planning mode for complex tasks. They contain:
- **Current state analysis:** Understanding of existing codebase
- **Proposed approach:** High-level implementation strategy
- **File-by-file changes:** Detailed plan for modifications
- **Design decisions:** Rationale for architectural choices
- **Risk assessment:** Potential issues and mitigation
- **Testing strategy:** How to verify the implementation

**Examples:**
- `implementation-plan-agent-api.md` - Planning document for Agent API implementation

**Best practices:**
- Create before starting complex work
- Present multiple options when applicable
- Explain trade-offs clearly
- Get human approval before implementing
- Update if approach changes during implementation

---

## Workflow

### Starting a New Feature

1. **Human** creates `prompt-<feature>.md` with requirements
2. **Claude Code** reads prompt and assesses complexity
3. **Claude Code** (if complex) creates `implementation-plan-<feature>.md`
4. **Human** reviews and approves plan
5. **Claude Code** implements according to plan
6. **Claude Code** creates `implementation-status-<feature>.md` at session end

### Continuing Work

1. **Claude Code** reads relevant `implementation-status-*.md` files, as specified by human
2. **Claude Code** reviews "Next Steps" section
3. **Human** provides additional context or priorities
4. **Claude Code** continues work
5. **Claude Code** creates new `implementation-status-*.md` at session end

---

## File Lifecycle

### Prompt Files
- **Created:** Before work begins
- **Updated:** When additional context or requirements not initially provided are needed
- **Deleted:** Never (historical record)

### Implementation Status Files
- **Created:** End of each major work session
- **Updated:** Only when additional work is done in the same session after the document was initially created
- **Deleted:** Never (historical record)

### Implementation Plan Files
- **Created:** During planning phase for complex features
- **Updated:** If approach changes significantly
- **Deleted:** Never (historical record)

---

### Documentation

**Relationship to docs/:**
- `claude_spec/` = Internal context for Claude Code
- `docs/` = External documentation for users/developers
- Implementation status may reference docs files
- Public-facing docs should be created separately

---

## Best Practices

### For Human Developers

**Writing Prompts:**
- Be specific about requirements
- Include relevant context (file paths, existing patterns)
- Specify constraints or preferences
- Provide examples when helpful

**Reviewing Plans:**
## Integration with Development Workflow

### Version Control

**Commit Strategy:**
- Commit `prompt-*.md` files separately from code
- Commit `implementation-plan-*.md` with "Plan:" prefix
- Commit `implementation-status-*.md` with "Handoff:" prefix

**Example:**
```bash
git add claude_spec/prompt-new-feature.md
git commit -m "Plan: Add requirements for new feature"

git add claude_spec/implementation-plan-new-feature.md
git commit -m "Plan: Design approach for new feature"

git add src/ tests/ claude_spec/implementation-status-new-feature.md
git commit -m "Implement new feature

- Add core functionality
- Add tests
- Update documentation

Handoff: claude_spec/implementation-status-new-feature.md"
```

### Pull Requests

**When creating PRs:**
- Link to relevant `implementation-status-*.md` in PR description
- Reference `implementation-plan-*.md` if major architectural changes
- Include "Next Steps" from handoff document in PR comments
- Check for security implications
- Validate architectural decisions
- Consider maintenance burden
- Verify test coverage plans

**Using Handoffs:**
- Read "Next Steps" before continuing work
- Review "Known Issues" to avoid duplicate effort
- Check "Critical Context" for environment setup
- Validate against "Verification" section

### For Claude Code

**Creating Status Documents:**
- Write immediately after completing work (while fresh)
- Be thorough in technical details
- Include actual code snippets (not pseudocode)
- Document all decisions and rationale
- Provide actionable next steps
- Test all verification steps

**Creating Plans:**
- Analyze existing code before planning
- Present multiple options with trade-offs
- Explain design decisions
- Consider security and performance
- Plan for testing and validation
- Update if approach changes

**Reading Context:**
- Always check for relevant `implementation-status-*.md` files
- Read "Next Steps" sections for priorities
- Note any "Known Issues" to avoid
- Check "Critical Context" for setup requirements

---

## Directory Structure Example

```
claude_spec/
├── CLAUDE.md                                    # This file
├── README.md                                    # Brief overview
│
├── prompt-docker-executor.md                    # Initial requirements
├── implementation-plan-agent-api.md             # Planning document
│
├── implementation-status-docker-executor.md     # Component handoff
├── implementation-status-mcp-server.md          # Component handoff
├── implementation-status-agent-api.md           # Component handoff
├── implementation-status-agent-api-testing.md   # Testing handoff
└── implementation-status-skills-system.md       # Component handoff
```

---

## Conventions Summary

| Prefix | Creator | Purpose | Lifecycle |
|--------|---------|---------|-----------|
| `prompt-` | Human | Initial task instructions | Created once, archived after use |
| `implementation-status-` | Claude Code | Session handoff with next steps | Created/updated per session |
| `implementation-plan-` | Claude Code | Planning document for complex tasks | Created in planning mode |

---

**Last Updated:** November 28, 2025
**Maintained By:** Development Team + Claude Code
**Purpose:** Enable effective AI-assisted development across sessions
